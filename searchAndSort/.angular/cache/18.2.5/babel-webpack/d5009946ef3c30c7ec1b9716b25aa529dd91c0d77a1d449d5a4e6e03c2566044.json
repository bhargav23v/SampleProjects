{"ast":null,"code":"import { ElementRef, Renderer2 } from '@angular/core';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nexport let SortDirective = /*#__PURE__*/(() => {\n  class SortDirective {\n    constructor(elRef, renderer) {\n      this.elRef = elRef;\n      this.renderer = renderer;\n      this.ascending = true;\n    }\n    ngOnInit() {\n      const element = this.elRef.nativeElement;\n      this.sortKey = element.getAttribute('sortField');\n      this.bindEvents();\n    }\n    bindEvents() {\n      this.subscribeFn = this.renderer.listen(this.elRef.nativeElement, 'click', () => {\n        this.sortCustomers();\n        this.ascending = !this.ascending;\n      });\n    }\n    sortCustomers() {\n      const comparator = (a, b) => {\n        let aSortKeyValue = _.get(a, this.sortKey);\n        let bSortKeyValue = _.get(b, this.sortKey);\n        if (_.isString(aSortKeyValue)) {\n          aSortKeyValue = _.toLower(aSortKeyValue);\n          bSortKeyValue = _.toLower(bSortKeyValue);\n        }\n        if (this.ascending) {\n          return this.ascendingSort(aSortKeyValue, bSortKeyValue);\n        } else {\n          return this.desendingSort(aSortKeyValue, bSortKeyValue);\n        }\n        return 0;\n      };\n      this.customers.sort(comparator);\n    }\n    ascendingSort(aValue, bValue) {\n      let output = 0;\n      output = aValue < bValue ? -1 : output;\n      output = aValue > bValue ? 1 : output;\n      return output;\n      //  if (aValue < bValue) {\n      //    return -1; // dont swap\n      //  }\n      //  if (aValue > bValue) {\n      //    return 1; // swap\n      //  }\n      // return 0;\n    }\n    desendingSort(aValue, bValue) {\n      let output = 0;\n      output = aValue < bValue ? 1 : output;\n      output = aValue > bValue ? -1 : output;\n      return output;\n    }\n    ngOnDestroy() {\n      if (this.subscribeFn) {\n        this.subscribeFn();\n      }\n    }\n    static {\n      this.ɵfac = function SortDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || SortDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n      };\n    }\n    static {\n      this.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n        type: SortDirective,\n        selectors: [[\"\", \"sortField\", \"\"]],\n        inputs: {\n          customers: \"customers\"\n        }\n      });\n    }\n  }\n  return SortDirective;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}